# ğŸ“‘ System Index - Complete File Reference

**Quick navigation for all files in the 4-agent AI system**

---

## ğŸ¤– Agent Prompts (Start Here)

**Primary orchestrator:**
- [Full Auto.agent.md](../Full%20Auto.agent.md) - **START HERE** - Loads and chains all 3 agents

**Core agents (loaded by Full Auto):**
- [Smart Plan.agent.md](../Smart%20Plan.agent.md) - Vagueness detection, QA, planning, update proposals
- [Smart Execute.agent.md](../Smart%20Execute.agent.md) - Execution, tool usage, prompt editing
- [Smart Review.agent.md](../Smart%20Review.agent.md) - Analysis, root causes, cycle management

---

## ğŸ“š Documentation (Read These)

**Quick start:**
- [QUICK_REFERENCE.md](QUICK_REFERENCE.md) - One-page guide, commands, troubleshooting

**Comprehensive:**
- [README.md](README.md) - Complete documentation, architecture, workflows

**Summary:**
- [BUILD_SUMMARY.md](BUILD_SUMMARY.md) - What was built, features, metrics

**Navigation:**
- [INDEX.md](INDEX.md) - This file - complete file reference

---

## ğŸ“‹ Templates

**User interaction:**
- [qa_survey_template.md](qa_survey_template.md) - Clarification survey with AI improvement question

---

## ğŸ“Š Tracking Files (Generated by Agents)

**Cycle management:**
- [cycle_metadata.json](cycle_metadata.json) - Cycle counter, evaluation schedule, history

**Execution tracking:**
- `plan_output.json` - Generated by Smart Plan (per task)
- `execution_state.json` - Generated by Smart Execute (per task)
- `replanning_context.json` - Generated by Smart Review (when replanning)

**Audit trail:**
- `prompt_edit_log.jsonl` - Immutable log of all prompt edits (NEVER manually edit!)

**Evaluations:**
- `10_cycle_evaluation_*.md` - Generated every 10 cycles by Smart Review

---

## ğŸ”§ Schemas (Validation)

**Location:** `schemas/`

- [plan_output.schema.json](schemas/plan_output.schema.json) - Validates plan_output.json
- [execution_state.schema.json](schemas/execution_state.schema.json) - Validates execution_state.json
- [cycle_metadata.schema.json](schemas/cycle_metadata.schema.json) - Validates cycle_metadata.json
- [prompt_edit_log.schema.json](schemas/prompt_edit_log.schema.json) - Validates each JSONL line

---

## ğŸ“ Directory Structure

```
.github/agents/
â”‚
â”œâ”€â”€ Smart Plan.agent.md          â† Agent: Planning & QA
â”œâ”€â”€ Smart Execute.agent.md       â† Agent: Execution & Editing
â”œâ”€â”€ Smart Review.agent.md        â† Agent: Review & Analysis
â”œâ”€â”€ Full Auto.agent.md           â† Agent: Orchestrator (START HERE)
â”‚
â””â”€â”€ AI Files/
    â”‚
    â”œâ”€â”€ INDEX.md                 â† This file
    â”œâ”€â”€ README.md                â† Complete documentation
    â”œâ”€â”€ QUICK_REFERENCE.md       â† One-page guide
    â”œâ”€â”€ BUILD_SUMMARY.md         â† Build summary
    â”‚
    â”œâ”€â”€ qa_survey_template.md    â† QA survey template
    â”œâ”€â”€ cycle_metadata.json      â† Cycle tracking
    â”‚
    â”œâ”€â”€ schemas/                 â† JSON validation schemas
    â”‚   â”œâ”€â”€ plan_output.schema.json
    â”‚   â”œâ”€â”€ execution_state.schema.json
    â”‚   â”œâ”€â”€ cycle_metadata.schema.json
    â”‚   â””â”€â”€ prompt_edit_log.schema.json
    â”‚
    â”œâ”€â”€ old_versions/            â† Backups (auto-created)
    â”‚   â””â”€â”€ *.agent.md.*.bak
    â”‚
    â””â”€â”€ archive/                 â† Completed sessions (manual)
        â””â”€â”€ session_YYYY-MM-DD/
```

---

## ğŸ¯ File Purpose Matrix

| File | Read By | Written By | Purpose |
|------|---------|------------|---------|
| cycle_metadata.json | Review, Full Auto | Review | Track cycles, schedule evaluations |
| prompt_edit_log.jsonl | All agents | Execute, Review | Immutable audit trail |
| plan_output.json | Execute | Plan | Transfer plan to executor |
| execution_state.json | Review | Execute | Transfer results to reviewer |
| replanning_context.json | Plan | Review | Context for replanning |
| qa_survey_template.md | Plan | - | Generate surveys |
| *.schema.json | All agents | - | Validate data structures |
| Smart Plan.agent.md | Full Auto, Execute | Execute | Plan agent instructions |
| Smart Execute.agent.md | Full Auto, Review | Review | Execute agent instructions |
| Smart Review.agent.md | Full Auto, Execute | Execute | Review agent instructions |
| Full Auto.agent.md | User, Execute | Execute | Orchestrator instructions |

---

## ğŸ”„ Data Flow Diagram

```
User Goal
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Full Auto.agent.md        â”‚
â”‚ (reads all 3 agent .md)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Smart Plan.agent.md       â”‚
â”‚ â†“ writes plan_output.json â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Smart Execute.agent.md    â”‚
â”‚ â†“ reads plan_output.json  â”‚
â”‚ â†“ writes execution_state  â”‚
â”‚ â†“ appends prompt_edit_log â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Smart Review.agent.md     â”‚
â”‚ â†“ reads execution_state   â”‚
â”‚ â†“ updates cycle_metadata  â”‚
â”‚ â†“ appends prompt_edit_log â”‚
â”‚ â†“ writes 10_cycle_eval    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Complete/Replan? â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
       Complete â†’ Archive
       Replan   â†’ Loop to Plan
```

---

## ğŸš¦ Workflow Quick Reference

### Starting a Task

1. **Read:** [Full Auto.agent.md](../Full%20Auto.agent.md)
2. **Provide:** Your goal
3. **Monitor:** [cycle_metadata.json](cycle_metadata.json) for progress
4. **Review:** Generated plan_output.json

### Responding to QA Survey

1. **Template:** [qa_survey_template.md](qa_survey_template.md)
2. **Answer:** Question 1 (AI improvement) thoroughly
3. **Select:** A/B/C/D for each question
4. **Detail:** Option D responses (50+ characters)

### Monitoring Execution

1. **Current step:** Check execution_state.json â†’ current_step
2. **Progress:** Check execution_state.json â†’ steps[].status
3. **Errors:** Check execution_state.json â†’ errors[]
4. **Observations:** Search MCP memory

### Reviewing Results

1. **Completion:** Check execution_state.json â†’ status
2. **Edits made:** Check prompt_edit_log.jsonl (tail -20)
3. **Cycle count:** Check cycle_metadata.json â†’ cycle_count
4. **Evaluations:** List 10_cycle_evaluation_*.md files

---

## ğŸ” Finding Information

### "How does planning work?"
â†’ Read [Smart Plan.agent.md](../Smart%20Plan.agent.md) sections:
- Phase 1: Vagueness Detection
- Phase 2: Clarification Survey Generation
- Phase 3: Context Gathering
- Phase 4: Plan Generation

### "How are prompts updated?"
â†’ Read:
1. [Smart Plan.agent.md](../Smart%20Plan.agent.md) - Proposes updates
2. [Smart Execute.agent.md](../Smart%20Execute.agent.md) - Edits Plan/Review/FullAuto
3. [Smart Review.agent.md](../Smart%20Review.agent.md) - Edits Execute
4. [prompt_edit_log.jsonl](prompt_edit_log.jsonl) - Audit trail

### "What are 10-cycle evaluations?"
â†’ Read:
1. [README.md](README.md) - Section: "ğŸ” 10-Cycle Evaluation System"
2. [Smart Review.agent.md](../Smart%20Review.agent.md) - Phase 4
3. [cycle_metadata.schema.json](schemas/cycle_metadata.schema.json) - Structure

### "How do I troubleshoot issues?"
â†’ Read:
1. [QUICK_REFERENCE.md](QUICK_REFERENCE.md) - Section: "ğŸ› ï¸ Troubleshooting"
2. [README.md](README.md) - Section: "ğŸ†˜ Emergency Procedures"
3. execution_state.json â†’ errors[] array

---

## ğŸ“– Reading Order for New Users

**Minimum (15 minutes):**
1. [QUICK_REFERENCE.md](QUICK_REFERENCE.md) - Overview and commands
2. [Full Auto.agent.md](../Full%20Auto.agent.md) - How orchestration works
3. [cycle_metadata.json](cycle_metadata.json) - Current system state

**Recommended (45 minutes):**
1. [QUICK_REFERENCE.md](QUICK_REFERENCE.md)
2. [README.md](README.md) - Skip schemas section initially
3. [Smart Plan.agent.md](../Smart%20Plan.agent.md)
4. [Smart Execute.agent.md](../Smart%20Execute.agent.md)
5. [Smart Review.agent.md](../Smart%20Review.agent.md)
6. [Full Auto.agent.md](../Full%20Auto.agent.md)

**Complete (2 hours):**
1. All documentation files (README, QUICK_REFERENCE, BUILD_SUMMARY)
2. All agent prompts (Plan, Execute, Review, Full Auto)
3. All schemas (understand data structures)
4. Templates (QA survey)
5. This index

---

## ğŸ“ Learning Paths

### "I want to use the system"
```
QUICK_REFERENCE.md
    â†“
Full Auto.agent.md (skim)
    â†“
Try a simple task
    â†“
README.md (reference as needed)
```

### "I want to understand how it works"
```
BUILD_SUMMARY.md (architecture)
    â†“
README.md (complete docs)
    â†“
Agent prompts (Plan â†’ Execute â†’ Review â†’ Full Auto)
    â†“
Schemas (data structures)
```

### "I want to extend the system"
```
README.md - Section: "For Developers"
    â†“
Schemas (understand data contracts)
    â†“
Agent prompts (integration points)
    â†“
prompt_edit_log.jsonl (see edit patterns)
```

### "I need to troubleshoot"
```
QUICK_REFERENCE.md - Troubleshooting section
    â†“
execution_state.json (find errors)
    â†“
prompt_edit_log.jsonl (recent changes)
    â†“
README.md - Emergency Procedures
```

---

## ğŸ”— External References

**AutoGen Documentation:**
- Framework: `../../docs/`
- Python packages: `../../python/packages/`
- .NET implementation: `../../dotnet/`

**MCP (Model Context Protocol):**
- Server docs: Check Docker MCP gateway documentation
- Tool discovery: Use `mcp-find` command

**Standards:**
- JSON Schema: http://json-schema.org/draft-07/schema#
- ISO 8601 (timestamps): https://en.wikipedia.org/wiki/ISO_8601
- Semantic Versioning: https://semver.org/

---

## ğŸ“Š File Statistics

**Agent prompts:** 4 files, ~2,410 lines total
**Documentation:** 4 files, ~1,500 lines total  
**Templates:** 1 file, ~160 lines
**Schemas:** 4 files, ~580 lines total
**Tracking:** 1 file (cycle_metadata.json), others generated

**Grand total:** ~4,650 lines of instructions, documentation, and schemas

---

## ğŸ¯ Common Tasks Index

| Task | See File | Section |
|------|----------|---------|
| Start a new task | QUICK_REFERENCE.md | Quick Start |
| Respond to QA | qa_survey_template.md | Entire file |
| Check cycle status | cycle_metadata.json | .cycle_count |
| View recent edits | prompt_edit_log.jsonl | tail -20 |
| Understand planning | Smart Plan.agent.md | Phase 1-4 |
| Troubleshoot stalls | QUICK_REFERENCE.md | Troubleshooting |
| Review evaluations | 10_cycle_evaluation_*.md | Generated files |
| Validate data | schemas/*.schema.json | Use jsonschema tool |
| Add observation type | README.md | For Developers |
| Emergency restore | README.md | Emergency Procedures |

---

## ğŸ” Critical Files (NEVER DELETE)

**System operation:**
- âœ… cycle_metadata.json (cycle tracking)
- âœ… prompt_edit_log.jsonl (audit trail)
- âœ… All 4 agent .md files
- âœ… All schemas

**Can regenerate:**
- plan_output.json (per-task, temporary)
- execution_state.json (per-task, temporary)
- replanning_context.json (per-task, temporary)

**Archive periodically:**
- old_versions/*.bak (keep last 50)
- 10_cycle_evaluation_*.md (keep all, compress old)

---

## ğŸ“ Quick Help Matrix

| Question | Answer Location |
|----------|-----------------|
| "How do I start?" | QUICK_REFERENCE.md â†’ Quick Start |
| "What does Full Auto do?" | Full Auto.agent.md â†’ Purpose section |
| "How are prompts updated?" | README.md â†’ Update Cycle Flow |
| "What's a vagueness score?" | Smart Plan.agent.md â†’ Phase 1 |
| "Why did execution stall?" | execution_state.json â†’ errors[] |
| "How often are evaluations?" | cycle_metadata.json â†’ .next_evaluation_due |
| "Can I edit prompt_edit_log?" | README.md â†’ Critical Rules (NO!) |
| "What's the cycle count?" | cycle_metadata.json â†’ .cycle_count |
| "How do I validate JSON?" | QUICK_REFERENCE.md â†’ Quick Commands |
| "Where are observations?" | README.md â†’ MCP Memory Integration |

---

**Version:** 1.0.0  
**Last Updated:** 2025-01-10  
**Maintained By:** 4-Agent Self-Updating System

---

**ğŸ’¡ Tip:** Bookmark this page for quick navigation!

**ğŸ‰ Happy exploring! All files are documented and ready to use.**
